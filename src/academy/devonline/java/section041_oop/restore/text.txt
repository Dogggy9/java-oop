email -> html страница

Алгоритм:
1) Попытка найти объект аккаунта по email
2) Если аккаунт не найден, то:
    а) Отобразить страницу с сообщением: аккаунт не найден
    б) Отобразить сообщение об успешном восстановлении доступа
3) Если аккаунт не активен и в системе настроен обработчик неактивных аккаунтов, то:
    а) Отобразить страницу с сообщением: аккаунт не активен, обратитесь к администратору
    б) Отобразить сообщение об успешном восстановлении доступа
4) Сгенерировать случайный проверочный код
5) Сохранить этот код в базе данных и привязать его к аккаунту
6) Отправить код в проверочном письме на указанный email
7) Отобразить сообщение об успешном восстановлении доступа